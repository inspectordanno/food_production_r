load("~/Documents/GitHub/food_production_r/food.rdata")
View(food)
##load data
load(file = "food.rdata")
##load data
load(file = "food.rdata")
install.packages("rworldmap")
library(tidyverse)
library(leaflet)
library(rworldmap)
##load data
load(file = "food.rdata")
View(food)
View(food)
##match data to country
matched <- joinCountryData2Map(food, joinCode = "NAME", nameJoinColumn = "Area")
starwars
wheat <- filter(Item == "Wheat and products")
wheat <- filter(food, Item == "Wheat and products")
View(wheat)
##match data to country
matched <- joinCountryData2Map(wheat, joinCode = "NAME", nameJoinColumn = "Area")
wheat1970 <- filter(wheat, Year == 1970)
View(wheat1970)
cereals <- filter(food, Item == "Cereals, other")
cereals1970 <- filter(cereals, Year == 1970)
cereals <- filter(food, Item == "Cereals, Other")
cereals1970 <- filter(cereals, Year == 1970)
##match data to country
matched <- joinCountryData2Map(cereals1970, joinCode = "NAME", nameJoinColumn = "Area")
View(cereals1970)
mapCountryData(matched, nameColumnToPlot="Amount", mapTitle="Worldwide Production of Wheat in 1970", catMethod = "pretty", colourPalette = "heat")
View(matched)
load("~/Documents/GitHub/food_production_r/food.rdata")
load("~/Documents/GitHub/food_production_r/food.rdata")
View(food)
library(tidyverse)
food_data <- read.csv('food.csv', stringsAsFactors = F)
View(food_data)
tmp <- gather(food_data, key = Year, value = Amount, 11:63)
tmp$Year <- substr(tmp$Year,2,5)
food <- select(tmp, Area, Area.Abbreviation, Item, Element, Year, Amount)
View(tmp)
View(food)
food$Year <- as.numeric(food$Year)
save(food,file = "food.rdata")
load("~/Documents/GitHub/food_production_r/food.rdata")
load("~/Documents/GitHub/food_production_r/food.rdata")
View(food)
##load data
load(file = "food.rdata")
wheat <- filter(food, Item == "Wheat and products", Element == "Food")
View(wheat)
wheat1970 <- filter(wheat, Year == 1970)
View(wheat1970)
##match data to country
matched <- joinCountryData2Map(wheat1970, joinCode = "ISO3", nameJoinColumn = "Area.Abbreviation")
library(rworldmap)
##match data to country
matched <- joinCountryData2Map(wheat1970, joinCode = "ISO3", nameJoinColumn = "Area.Abbreviation")
mapCountryData(matched, nameColumnToPlot="Amount", mapTitle="Worldwide Production of Wheat in 1970", catMethod = "pretty", colourPalette = "heat")
wheat1980 <- filter(wheat, Year == 1980)
matched2 <- joinCountryData2Map(wheat1970, joinCode = "ISO3", nameJoinColumn = "Area.Abbreviation")
mapCountryData(matched2, nameColumnToPlot="Amount", mapTitle="Worldwide Production of Wheat in 1970", catMethod = "pretty", colourPalette = "heat")
wheat1990 <- filter(wheat, Year == 1990)
matched2 <- joinCountryData2Map(wheat1990, joinCode = "ISO3", nameJoinColumn = "Area.Abbreviation")
mapCountryData(matched2, nameColumnToPlot="Amount", mapTitle="Worldwide Production of Wheat in 1990", catMethod = "pretty", colourPalette = "heat")
mapCountryData(matched, nameColumnToPlot="Amount", mapTitle="Worldwide Production of Wheat in 1970", catMethod = "pretty", colourPalette = "heat")
mapCountryData(matched2, nameColumnToPlot="Amount", mapTitle="Worldwide Production of Wheat in 1990", catMethod = "pretty", colourPalette = "heat")
mapCountryData(matched, nameColumnToPlot="Amount", mapTitle="Worldwide Production of Wheat in 1970", catMethod = "pretty", colourPalette = "heat")
mapCountryData(matched2, nameColumnToPlot="Amount", mapTitle="Worldwide Production of Wheat in 1990", catMethod = "pretty", colourPalette = "heat")
library(tidyverse)
library(leaflet)
library(rworldmap)
food.csv
library(tidyverse)
library(leaflet)
library(rworldmap)
##load data
load(file = "food.rdata")
wheat <- filter(food, Item == "Wheat and products", Element == "Food")
wheat1970 <- filter(wheat, Year == 1970)
wheat1990 <- filter(wheat, Year == 1990)
##match data to country
matched <- joinCountryData2Map(wheat1970, joinCode = "ISO3", nameJoinColumn = "Area.Abbreviation")
matched2 <- joinCountryData2Map(wheat1990, joinCode = "ISO3", nameJoinColumn = "Area.Abbreviation")
mapCountryData(matched, nameColumnToPlot="Amount", mapTitle="Worldwide Production of Wheat in 1970", catMethod = "pretty", colourPalette = "heat")
mapCountryData(matched2, nameColumnToPlot="Amount", mapTitle="Worldwide Production of Wheat in 1990", catMethod = "pretty", colourPalette = "heat")
mapCountryData(matched, nameColumnToPlot="Amount", mapTitle="Worldwide Production of Wheat in 1970", catMethod = "pretty", colourPalette = "heat")
mapCountryData(matched2, nameColumnToPlot="Amount", mapTitle="Worldwide Production of Wheat in 1990", catMethod = "pretty", colourPalette = "heat")
mapCountryData(matched, nameColumnToPlot="Amount", mapTitle="Worldwide Production of Wheat in 1970", catMethod = "fixedWidth", colourPalette = "heat")
mapCountryData(matched2, nameColumnToPlot="Amount", mapTitle="Worldwide Production of Wheat in 1990", catMethod = "fixedWidth", colourPalette = "heat")
mapCountryData(matched, nameColumnToPlot="Amount", mapTitle="Worldwide Production of Wheat in 1970", catMethod = "pretty", colourPalette = "heat")
mapCountryData(matched2, nameColumnToPlot="Amount", mapTitle="Worldwide Production of Wheat in 1990", catMethod = "pretty", colourPalette = "heat")
install.packages("grid")
library(tidyverse)
library(leaflet)
library(rworldmap)
##load data
load(file = "food.rdata")
wheat <- filter(food, Item == "Wheat and products", Element == "Food")
wheat1970 <- filter(wheat, Year == 1970)
wheat1990 <- filter(wheat, Year == 1990)
load("~/Documents/GitHub/food_production_r/food.rdata")
View(food)
View(wheat)
ggplot(wheat) + geom_line(aes(x = Year, y = Amount)) + facet_wrap(~Area)
sel <- c("ZAF","AFG")
sample <- filter(Area.Abbreviation == sel)
sample <- filter(food, Area.Abbreviation == sel)
sel <- c("ZAF","AFG")
food[Area.Abbreviation %in% sel,]
food[food$Area.Abbreviation %in% sel,]
sel <- c("ZAF","AFG", "SFB", "PAK", "PER", "USA", "GBR")
dat <- food[food$Area.Abbreviation %in% sel,]
View(dat)
ggplot(dat) + geom_line(aes(x = Year, y = Amount)) + facet_wrap(~Area)
ggplot(dat) + geom_line(aes(x = Year, y = Amount, color = Item)) + facet_wrap(~Area)
ggplot(dat[dat$Item=="Wheat"]) + geom_line(aes(x = Year, y = Amount)) + facet_wrap(~Area)
ggplot(dat[dat$Item=="Wheat and products"]) + geom_line(aes(x = Year, y = Amount)) + facet_wrap(~Area)
ggplot(dat[dat$Item=="Wheat and products",]) + geom_line(aes(x = Year, y = Amount)) + facet_wrap(~Area)
dat[dat$Item=="Wheat and products",]
ggplot(dat[dat$Item=="Wheat and products" & dat$Element == "Food",]) + geom_line(aes(x = Year, y = Amount)) + facet_wrap(~Area)
ggplot(dat[dat$Item=="Wheat and products",]) + geom_line(aes(x = Year, y = Amount, color = Element)) + facet_wrap(~Area)
View(food)
library(sp)
library(sp)
library(rgdal)
map <-  readOGR(dsn = "shapefiles", layer = "ne_50m_admin_0_countries")
plot(map)
data <- map@data
View(data)
dat.s <- select(data,POP_EST,GU_A3,SU_A3)
View(dat.s)
tmp <- merge(dat.s,dat, by.y = "Area.Abbreviation", by.x= "GU_A3")
View(tmp)
library(dplyr)
